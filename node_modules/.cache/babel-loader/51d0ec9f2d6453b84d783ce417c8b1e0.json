{"ast":null,"code":"var _jsxFileName = \"/Users/stephaniegera/Code/StephanieGeraAmil/Projects/jars-client/src/components/DistributionForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateJar } from '../actions/JarsActions.js';\nimport { clearFormPurpose } from '../actions/currentSelectionActions.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DistributionForm = () => {\n  _s();\n\n  const [updatedJars, setUpdatedJars] = useState([]);\n  const [validationMessage, setValidationMessage] = useState('');\n  const dispatch = useDispatch();\n  const jars = useSelector(state => state.jars ? state.jars : null);\n  useEffect(() => {\n    setUpdatedJars(jars);\n  }, [jars]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    let reducer = (acc, item) => acc + parseFloat(item.percentage);\n\n    if (updatedJars.reduce(reducer, 0) != 100) {\n      setValidationMessage(\" All the Percentages shoud Add up to 100%\");\n    } else {\n      setValidationMessage('');\n      updatedJars.map(jar => dispatch(updateJar(jar)));\n      dispatch(clearFormPurpose());\n    }\n  };\n\n  const handleCancel = () => {\n    let reducer = (acc, item) => acc + parseFloat(item.percentage);\n\n    if (updatedJars.reduce(reducer, 0) != 100) {\n      setValidationMessage(\" All the Percentages shoud Add up to 100%\");\n    } else {\n      dispatch(clearFormPurpose());\n    }\n  };\n\n  const handleChange = (e, jar) => {\n    const newJar = { ...jar,\n      percentage: e.target.value\n    };\n    setUpdatedJars(updatedJars.map(item => item._id == jar._id ? newJar : item));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [validationMessage != \"\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert-pop-up alert-pop-up-big\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"alert\",\n        children: validationMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"close-alert\",\n        readOnly: true,\n        value: \"x\",\n        onClick: () => setValidationMessage(\"\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [updatedJars.map(jar => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"m-2\",\n            children: [jar.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: jar.percentage,\n            onChange: e => {\n              handleChange(e, jar);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, jar._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"submitButton cancel\",\n          readOnly: true,\n          value: \"x\",\n          onClick: handleCancel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Save\",\n          className: \"submitButton\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 11\n  }, this);\n};\n\n_s(DistributionForm, \"UUFVtm1clPh/+mTnqhXShSH/rMU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = DistributionForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"DistributionForm\");","map":{"version":3,"sources":["/Users/stephaniegera/Code/StephanieGeraAmil/Projects/jars-client/src/components/DistributionForm.js"],"names":["React","useEffect","useState","useDispatch","useSelector","updateJar","clearFormPurpose","DistributionForm","updatedJars","setUpdatedJars","validationMessage","setValidationMessage","dispatch","jars","state","handleSubmit","e","preventDefault","reducer","acc","item","parseFloat","percentage","reduce","map","jar","handleCancel","handleChange","newJar","target","value","_id","name"],"mappings":"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","sourcesContent":["import React ,{useEffect, useState} from 'react'\nimport { useDispatch,useSelector } from 'react-redux';\nimport {updateJar} from '../actions/JarsActions.js'\nimport {clearFormPurpose} from '../actions/currentSelectionActions.js'\n\n\n \n\nexport const DistributionForm = () => {\n    const [updatedJars, setUpdatedJars]=useState([])\n    const [validationMessage, setValidationMessage]=useState('')\n\n    const dispatch= useDispatch();\n   \n    const jars = useSelector((state) =>(state.jars ? state.jars :null));\n\n    useEffect(()=>{\n         setUpdatedJars(jars);\n   \n    },[jars])\n   \n   \n\n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        let reducer=(acc,item)=>acc+parseFloat(item.percentage);\n        \n        if(updatedJars.reduce(reducer,0)!=100){\n           \n            setValidationMessage(\" All the Percentages shoud Add up to 100%\");\n        }else{\n            \n            setValidationMessage('');\n            updatedJars.map(jar=>dispatch(updateJar(jar))); \n            dispatch(clearFormPurpose());\n        }\n        \n\n         \n    };\n\n    const handleCancel=()=>{\n        \n        let reducer=(acc,item)=>acc+parseFloat(item.percentage);\n        \n        if(updatedJars.reduce(reducer,0)!=100){\n           \n            setValidationMessage(\" All the Percentages shoud Add up to 100%\");\n        }else{\n            dispatch(clearFormPurpose());\n        }\n    }\n\n    const handleChange=(e,jar)=>{\n           const newJar={...jar,percentage:e.target.value };\n           setUpdatedJars(updatedJars.map(item=>item._id==jar._id?newJar:item))\n       \n    }\n    return (\n       \n          <div className=\"form\">\n            { validationMessage !=\"\" &&\n             <div className=\"alert-pop-up alert-pop-up-big\">\n                <span className=\"alert\">{validationMessage}</span>\n                <input className=\"close-alert\" readOnly value=\"x\" onClick={()=>setValidationMessage(\"\")}/>\n            </div>\n             }\n          \n          <form onSubmit={handleSubmit}>\n              {updatedJars.map(jar=>{\n                    return ( \n                    <div className=\"form-group\" key={jar._id}> \n                        <label className=\"m-2\">{jar.name} </label>\n                        <input  type=\"text\"\n                            required\n                            className=\"form-control\"\n                            value={jar.percentage}\n                            onChange={(e)=>{handleChange(e,jar)}}\n                            />\n                    </div>\n                    )}\n                )}\n              \n              <div className=\"bottom mt-5\">\n                <input className=\"submitButton cancel\" readOnly value=\"x\" onClick={handleCancel}/>\n                <input type=\"submit\" value=\"Save\" className=\"submitButton\" />\n         \n              </div>            \n          </form>\n        </div>\n            \n       \n    )\n}\n"]},"metadata":{},"sourceType":"module"}